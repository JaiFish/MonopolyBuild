window.__require=function t(e,n,o){function a(s,r){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!r&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){return a(e[s][1][t]||t)},p,p.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)a(o[s]);return a}({AssetMng:[function(t,e,n){"use strict";cc._RF.push(e,"3bf4b6LCLNLNIR8jRg1gFh8","AssetMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./SpriteAtlasAsset"),a=function(){function t(){this.Asset=new Map,this.AllAssetClass=[]}return t.prototype.startLoad=function(){this.AllAssetClass.push(o.default.loadAsset(this.Asset))},t.prototype.checkState=function(){var t=this;return new Promise(function(e){var n=setInterval(function(){var o=!0;t.AllAssetClass.forEach(function(t){if(console.log(t.checkAssetState),!t.checkAssetState)return o=!1}),o&&(clearInterval(n),e())},500)})},t}();n.default=new a,cc._RF.pop()},{"./SpriteAtlasAsset":"SpriteAtlasAsset"}],CameraControll:[function(t,e,n){"use strict";cc._RF.push(e,"7361aAQ52BMU589bmg6jtti","CameraControll");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Enum/Easing"),s=t("../Enum/GameEvent"),r=t("../GameModel"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.manZoomRatio=3,e.showAllZoomRatio=.36,e.stationZoomRatio=3,e.moveSpeed=1,e}return a(e,t),e.prototype.onLoad=function(){this.mineCamera=this.node.getComponent(cc.Camera),this.manCamera=cc.find("Canvas/Panel_Man/nMan/manCamera").getComponent(cc.Camera),this.mineCamera.zoomRatio=1,this.mineCamera.node.setPosition(cc.Vec2.ZERO),this.initEvent(s.GameEvent.MoveToStation,this.moveToStation),this.initEvent(s.GameEvent.MoveToManCamera,this.moveToManCamera),this.initEvent(s.GameEvent.ShowAllView,this.showAllView)},e.prototype.start=function(){var t=this;setTimeout(function(){t.showAllView()},500)},e.prototype.moveToStation=function(t){var e=r.default.convertOtherNodeSpaceAR(r.default.mapItem.get(t).node,this.mineCamera.node);cc.tween(this.mineCamera.node).to(this.moveSpeed,{position:e},{easing:i.Easing.cubicOut}).start(),cc.tween(this.mineCamera).to(.5*this.moveSpeed,{zoomRatio:1},{easing:i.Easing.cubicIn}).to(.5*this.moveSpeed,{zoomRatio:this.stationZoomRatio},{easing:i.Easing.cubicOut}).start()},e.prototype.moveToManCamera=function(t){var e;void 0===t&&(t=!1),e=t?cc.tween().to(this.moveSpeed,{zoomRatio:this.manZoomRatio},{easing:i.Easing.cubicOut}):cc.tween().to(.5*this.moveSpeed,{zoomRatio:1},{easing:i.Easing.cubicIn}).to(.5*this.moveSpeed,{zoomRatio:this.manZoomRatio},{easing:i.Easing.cubicOut});var n=r.default.convertOtherNodeSpaceAR(this.manCamera.node,this.mineCamera.node);cc.tween(this.mineCamera.node).to(this.moveSpeed,{position:n},{easing:i.Easing.cubicOut}).start(),cc.tween(this.mineCamera).then(e).start()},e.prototype.showAllView=function(){cc.tween(this.mineCamera.node).to(this.moveSpeed,{position:cc.Vec3.ZERO},{easing:i.Easing.cubicOut}).start(),cc.tween(this.mineCamera).to(this.moveSpeed,{zoomRatio:this.showAllZoomRatio},{easing:i.Easing.cubicOut}).start()},e}(t("../Data/base/ComponentBase").default);n.default=c,cc._RF.pop()},{"../Data/base/ComponentBase":"ComponentBase","../Enum/Easing":"Easing","../Enum/GameEvent":"GameEvent","../GameModel":"GameModel"}],ComponentBase:[function(t,e,n){"use strict";cc._RF.push(e,"7f9adj6GJ9FJ7nhglR8Hmd8","ComponentBase");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,r=i.length;s<r;s++,a++)o[a]=i[s];return o};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Event/EventMng"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.initEvent=function(t,e){s.default.on(t,e,this)},e.prototype.unEvent=function(t,e){s.default.off(t,e,this)},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.EventEmit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.default.emit.apply(s.default,i([t],e))},e}(cc.Component);n.default=r,cc._RF.pop()},{"../../Event/EventMng":"EventMng"}],DataMan:[function(t,e,n){"use strict";cc._RF.push(e,"3b1ffO5kORFmKslnvpZVMUS","DataMan");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nowIndex=0,e.manSpeed=1e3,e.xSpeed=1,e.ySpeed=1,e}return a(e,t),e}(t("./base/ComponentBase").default);n.default=i,cc._RF.pop()},{"./base/ComponentBase":"ComponentBase"}],Easing:[function(t,e,n){"use strict";cc._RF.push(e,"0ad2bFnyJ5MAaTD13ZY4I86","Easing"),Object.defineProperty(n,"__esModule",{value:!0}),n.Easing=void 0,function(t){t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.expoIn="expoIn",t.expoOu="expoOu",t.expoInOut="expoInOut",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.smooth="smooth",t.fade="fade"}(n.Easing||(n.Easing={})),cc._RF.pop()},{}],EventMng:[function(t,e,n){"use strict";cc._RF.push(e,"303c9igcvdC9asglGcZZKA6","EventMng"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=new cc.EventTarget,cc._RF.pop()},{}],GameControll:[function(t,e,n){"use strict";cc._RF.push(e,"6f03foqAVxMjqFGR1Co9WIA","GameControll");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Asset/AssetMng"),r=t("./Class/CameraControll"),c=t("./Data/base/ComponentBase"),u=t("./Class/Mam/Panel_Man"),p=t("./Class/Panel_AniPath"),l=t("./Class/Panel_Map"),h=t("./Enum/GameEvent"),f=t("./GameModel"),d=t("./Class/Panel_Door"),m=cc._decorator,_=m.ccclass,y=(m.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.panel_AniPath=cc.find("Canvas/Panel_AniPath").addComponent(p.default),this.panel_Map=cc.find("Canvas/Panel_Map").addComponent(l.default),this.panel_Man=cc.find("Canvas/Panel_Man").addComponent(u.default),this.cameraControll=cc.find("Canvas/MainCamera").addComponent(r.default),this.panel_Door=cc.find("Canvas/Panel_Door").addComponent(d.default),this.gameModle=f.default,console.log(this.gameModle),this.initEvent(h.GameEvent.SendModel,this.sendModle),s.default.startLoad(),console.log(fcc),fcc.configMgr.build();var t=cc.sys.os==cc.sys.OS_IOS?500:100;fcc.sceneMgr.sceneDirection=fcc.type.SceneDirectionType.LANDSCAPE,fcc.sceneMgr.setDesignHeight(720).setDesignWidth(1280).updateSize(fcc.type.SceneStyleType.HORIZONTAL).startListener(t)},e.prototype.start=function(){this.sendModle(h.GameEvent.InitMap)},e.prototype.sendModle=function(t){switch(t){case h.GameEvent.InitMap:console.log(this.panel_AniPath.TWPath),this.EventEmit(t,this.gameModle,this.panel_AniPath.TWPath);break;case h.GameEvent.SetModel:this.EventEmit(t,this.gameModle)}},i([_],e)}(c.default));n.default=y,cc._RF.pop()},{"./Asset/AssetMng":"AssetMng","./Class/CameraControll":"CameraControll","./Class/Mam/Panel_Man":"Panel_Man","./Class/Panel_AniPath":"Panel_AniPath","./Class/Panel_Door":"Panel_Door","./Class/Panel_Map":"Panel_Map","./Data/base/ComponentBase":"ComponentBase","./Enum/GameEvent":"GameEvent","./GameModel":"GameModel"}],GameEvent:[function(t,e,n){"use strict";cc._RF.push(e,"757e79L9zNI57Kfgvyze7sn","GameEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameEvent=void 0,function(t){t.SetModel="SetModel",t.SendModel="SendModel",t.InitMap="InitMap",t.ManGO="ManGO",t.ManStop="ManStop",t.SetManState="SetManState",t.MoveToStation="MoveToStation",t.MoveToManCamera="MoveToManCamera",t.ShowAllView="ShowAllView",t.OpenDoor="OpenDoor",t.CloseDoor="CloseDoor"}(n.GameEvent||(n.GameEvent={})),cc._RF.pop()},{}],GameModel:[function(t,e,n){"use strict";cc._RF.push(e,"e4734+fQXtIWI1PqvUMQjAh","GameModel"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.stationType_WaitRad=[1,20],this.stationType_Start=[0],this.stationType_Normal=[2,3,4,5,6,7,8,9,10,12,13,14,16,17,18,19],this.stationType_QandA=[3,11,15],this.mapItem=new Map,this.pathPositionData=new Map,this.pathBezierData=new Map}return t.prototype.convertOtherNodeSpaceAR=function(t,e){var n=e.position,o=t.convertToWorldSpaceAR(n);return e.convertToNodeSpaceAR(o)},t}();n.default=new o,cc._RF.pop()},{}],GameState:[function(t,e,n){"use strict";cc._RF.push(e,"e8ad9skd8BCaoqrTGLu6ZKq","GameState"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameState=void 0,function(t){t.Start="start",t.Wait="wait",t.ShowViewUrl="ShowViewUrl"}(n.GameState||(n.GameState={})),cc._RF.pop()},{}],IAsset:[function(t,e,n){"use strict";cc._RF.push(e,"844ceSmhcJPyIxXbIDU3LIx","IAsset"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ManAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"ce494CkVG1PQKpHszqAbf7f","ManAnimation");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.startGO=function(){this.isCanGo||(this.isCanGo=!this.isCanGo)},e.prototype.stopGo=function(){this.isCanGo&&(this.isCanGo=!this.isCanGo)},e.prototype.StartGO_Tween=function(t,e){if(this.gameModle||this.setGameModel(t),console.log(e),0!=e){this.nowIndex++,e--;var n=this.gameModle.pathBezierData.get(this.nowIndex);null==n?this.GoLine(e):this.GoBezier(e,0,n.length)}},e.prototype.GoBezier=function(t){var e=this,n=this.gameModle.pathBezierData.get(this.nowIndex);console.log(n),cc.tween(this.nMan).bezierTo(1,n[0],n[1],n[2],{easing:function(t){return cc.easeCubicActionOut().easing(t)}}).call(function(){e.StartGO_Tween(e.gameModle,t)}).start()},e.prototype.GoLine=function(t){var e=this,n=this.gameModle.pathPositionData.get(this.nowIndex);cc.tween(this.nMan).to(this.manSpeed,{x:n.x,y:n.y},{easing:function(t){return cc.easeCubicActionOut().easing(t)}}).call(function(){e.StartGO_Tween(e.gameModle,t)}).start()},e.prototype.setGameModel=function(t){console.log(t),this.gameModle=t},e}(t("../../Data/DataMan").default);n.default=i,cc._RF.pop()},{"../../Data/DataMan":"DataMan"}],MapItem:[function(t,e,n){"use strict";cc._RF.push(e,"40417rdjU1F17ChzZ3kp9wn","MapItem");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setSprite=function(t){this.node.getComponent(cc.Sprite).spriteFrame=t},Object.defineProperty(e.prototype,"myNumber",{get:function(){return this._myNumber},set:function(t){this._myNumber=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"myType",{get:function(){return this._myType},set:function(t){this._myType=t},enumerable:!1,configurable:!0}),e}(t("../Data/base/ComponentBase").default);n.default=i,cc._RF.pop()},{"../Data/base/ComponentBase":"ComponentBase"}],MusicAsset:[function(t,e,n){"use strict";cc._RF.push(e,"241e5lWrXhHF7tanFKH5Dgn","MusicAsset"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.loadAsset=function(){throw new Error("Method not implemented.")},t}();n.default=new o,cc._RF.pop()},{}],MyMath:[function(t,e,n){"use strict";cc._RF.push(e,"23d8biZgYRML60I5fNazIGU","MyMath"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.add=function(t,e){return Math.round(1e3*t+1e3*e)/1e3},t.prototype.minus=function(t,e){return(1e3*t-1e3*e)/1e3},t.prototype.multiply=function(t,e){return Math.round(1e6*t*e)/Math.pow(1e3,2)},t.prototype.divide=function(t,e){return 1e3*t/(1e3*e)},t.prototype.round=function(t,e){void 0===e&&(e=4);var n=t,o=n.toString().split(".");return o.length>1&&o[1].length>e?Number(n.toPrecision(o[0].length+e)):t},t}();n.default=new o,cc._RF.pop()},{}],Panel_AniPath:[function(t,e,n){"use strict";cc._RF.push(e,"3f2659A28NBLKnfbP9wk+qH","Panel_AniPath");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.aPath=cc.find("PathAnimation",this.node).getComponent(cc.Animation),this.TWPath=cc.find("TaiwanPath",this.node).getComponent(cc.Animation)},e}(t("../Data/base/ComponentBase").default);n.default=i,cc._RF.pop()},{"../Data/base/ComponentBase":"ComponentBase"}],Panel_Door:[function(t,e,n){"use strict";cc._RF.push(e,"82a59+J8uNDQKgYQmOD2tjv","Panel_Door");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/base/ComponentBase"),s=t("../Enum/GameEvent"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.distance=2048,e}return a(e,t),e.prototype.onLoad=function(){this.left=cc.find("left",this.node),this.right=cc.find("right",this.node),this.initEvent(s.GameEvent.OpenDoor,this.openDoor),this.initEvent(s.GameEvent.CloseDoor,this.closeDoor),this.left.active=!1,this.right.active=!1},e.prototype.openDoor=function(){this.left.active=!0,this.right.active=!0,cc.tween(this.left).by(1,{x:-this.distance}).start(),cc.tween(this.right).by(1,{x:this.distance}).start()},e.prototype.closeDoor=function(){cc.tween(this.left).by(1,{x:this.distance}).start(),cc.tween(this.right).by(1,{x:-this.distance}).start()},e}(i.default);n.default=r,cc._RF.pop()},{"../Data/base/ComponentBase":"ComponentBase","../Enum/GameEvent":"GameEvent"}],Panel_Man:[function(t,e,n){"use strict";cc._RF.push(e,"6dd3599ClNAw6wUDhQcH4YJ","Panel_Man");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Data/MyMath"),s=t("../../Enum/GameEvent"),r=t("../../Enum/GameState"),c=t("../../Event/EventMng"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.nMan=cc.find("nMan",this.node),this.initEvent(s.GameEvent.ManGO,this.manGO),this.initEvent(s.GameEvent.ManStop,this.manStop),this.initEvent(s.GameEvent.SetModel,this.setGameModel),this.initEvent(s.GameEvent.SetManState,this.setManState),this.nowStation=0},e.prototype.start=function(){var t=this;c.default.emit(s.GameEvent.SendModel,s.GameEvent.SetModel),setTimeout(function(){t.resetOeg()},1e3)},e.prototype.update=function(t){var e=this;if(this.isCanGo){var n=t*this.xSpeed*this.directionX,o=t*this.ySpeed*this.directionY;n=i.default.add(this.nMan.x,n),o=i.default.add(this.nMan.y,o),this.nMan.setPosition(n,o),this.checkX(n)&&this.checkY(o)&&(this.skipGoPosition(),this.stopGo(),this.manState==r.GameState.Start&&setTimeout(function(){e.setStation(),e.smoothSpeed(),e.setNextPosition(e.gameModle.pathPositionData.get(e.nowStation)),e.startGO()},500))}},e.prototype.manGO=function(){this.setStation(),this.smoothSpeed(),this.setNextPosition(this.gameModle.pathPositionData.get(this.nowStation)),this.startGO()},e.prototype.manStop=function(){this.stopGo()},e.prototype.setStation=function(t){void 0===t&&(t=1),this.nowStation+=t},e.prototype.setNextPosition=function(){var t=this.gameModle.convertOtherNodeSpaceAR(this.gameModle.mapItem.get(this.nowStation).node,this.node);console.log(t),this.targetX=i.default.round(t.x,3),this.targetY=i.default.round(t.y,3),console.log(this.targetX,this.targetY),console.log(this.nMan.x,this.nMan.y),this.directionX=this.targetX>this.nMan.x?1:-1,this.directionY=this.targetY>this.nMan.y?1:-1},e.prototype.skipGoPosition=function(){this.nMan.setPosition(this.targetX,this.targetY)},e.prototype.smoothSpeed=function(){var t=this.gameModle.convertOtherNodeSpaceAR(this.gameModle.mapItem.get(this.nowStation).node,this.node),e=this.nMan.getPosition(),n=t.subSelf(cc.v3(e.x,e.y)),o=Math.abs(n.x),a=Math.abs(n.y),i=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));this.xSpeed=o/i*this.manSpeed,this.ySpeed=a/i*this.manSpeed},e.prototype.setManState=function(t){this.manState=t},e.prototype.resetOeg=function(){this.setStation(0),this.setNextPosition(this.gameModle.pathPositionData.get(this.nowStation)),this.skipGoPosition(),this.manState=r.GameState.Wait,this.stopGo()},e.prototype.checkX=function(t){var e=i.default.round(t,3);return this.directionX>0?e>this.targetX:e<this.targetX},e.prototype.checkY=function(t){var e=i.default.round(t,3);return this.directionY>0?e>this.targetY:e<this.targetY},e}(t("./ManAnimation").default);n.default=u,cc._RF.pop()},{"../../Data/MyMath":"MyMath","../../Enum/GameEvent":"GameEvent","../../Enum/GameState":"GameState","../../Event/EventMng":"EventMng","./ManAnimation":"ManAnimation"}],Panel_Map:[function(t,e,n){"use strict";cc._RF.push(e,"ca623yotqlIU4gHk8J9XvoG","Panel_Map");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function r(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(r){i=[6,r],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Asset/AssetMng"),c=t("../Enum/GameEvent"),u=t("../Enum/StationType"),p=t("../Item/MapItem"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){this.tempMapItem=cc.find("mapItem",this.node),this.content_Map=cc.find("nContent_Map",this.node),this.initEvent(c.GameEvent.InitMap,this.initMap)},e.prototype.start=function(){},e.prototype.initMap=function(t,e){return i(this,void 0,void 0,function(){var n,o,a,i,c,u;return s(this,function(s){switch(s.label){case 0:for(n=e.getClips()[0].curveData.props.position,i=0;i<n.length;i++)o=n[i].value[0],a=n[i].value[1],t.pathPositionData.set(i,cc.v2(o,a)),null!=n[i].motionPath&&n[i].motionPath.length>0&&this.AddBezier(i,n,t);return[4,r.default.checkState()];case 1:for(s.sent(),i=0;i<n.length-1;i++)c=cc.instantiate(this.tempMapItem),this.content_Map.addChild(c,cc.macro.MAX_ZINDEX),c.setPosition(t.pathPositionData.get(i)),(u=c.addComponent(p.default)).myNumber=i,u.myType=this.getStationType(i),u.setSprite(this.getSpriteType(i)),t.mapItem.set(i,u);return console.log(t.pathBezierData),console.log(t.pathPositionData),[2]}})})},e.prototype.AddBezier=function(t,e,n){var o=[],a=e[t].value[0],i=e[t].value[1];o.push(cc.v2(a,i)),console.log(cc.v2(a,i)),a=e[t].motionPath[0][0],i=e[t].motionPath[0][1],o.push(cc.v2(a,i)),a=e[t+1].value[0],i=e[t+1].value[1],o.push(cc.v2(a,i)),console.log(o),n.pathBezierData.set(t+1,o)},e.prototype.getSpriteType=function(t){switch(console.log(t),t){case 0:return console.log(r.default.Asset.get("Station_Start")),r.default.Asset.get("Station_Start");case 1:case 20:return r.default.Asset.get("Station_WaitRad");case 3:case 11:case 15:return r.default.Asset.get("Station_Q&A");default:return r.default.Asset.get("Station_Normal")}},e.prototype.getStationType=function(t){switch(t){case 0:return u.StationType.Start;case 1:case 20:return u.StationType.WaitRad;case 3:case 11:case 15:return u.StationType.QandA;default:return u.StationType.Normal}},e}(t("../Data/base/ComponentBase").default);n.default=l,cc._RF.pop()},{"../Asset/AssetMng":"AssetMng","../Data/base/ComponentBase":"ComponentBase","../Enum/GameEvent":"GameEvent","../Enum/StationType":"StationType","../Item/MapItem":"MapItem"}],Panel_Message:[function(t,e,n){"use strict";cc._RF.push(e,"51d712mVElOh5Svq7QXSANF","Panel_Message");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(t("../Data/base/ComponentBase").default);n.default=i,cc._RF.pop()},{"../Data/base/ComponentBase":"ComponentBase"}],PrefabAsset:[function(t,e,n){"use strict";cc._RF.push(e,"d1074FwOGpBcbiT5ajLnJm6","PrefabAsset"),Object.defineProperty(n,"__esModule",{value:!0});n.default=new function(){},cc._RF.pop()},{}],SpineAsset:[function(t,e,n){"use strict";cc._RF.push(e,"0a0f2F7uxVJIpeY38ZvUb/y","SpineAsset"),Object.defineProperty(n,"__esModule",{value:!0});n.default=new function(){},cc._RF.pop()},{}],SpriteAsset:[function(t,e,n){"use strict";cc._RF.push(e,"f8054pchZ1JKIhfT6VDOWEl","SpriteAsset"),Object.defineProperty(n,"__esModule",{value:!0});n.default=new function(){},cc._RF.pop()},{}],SpriteAtlasAsset:[function(t,e,n){"use strict";cc._RF.push(e,"31e45KA+8xHI5Rn2Ztjff8f","SpriteAtlasAsset"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.typePath="Image/",this.filePath=["Station"]}return t.prototype.loadAsset=function(t){var e=this;this.checkAssetState=!1;for(var n=[],o=0;o<this.filePath.length;o++)n.push(this.typePath+this.filePath[o]);return cc.resources.load(n,cc.SpriteAtlas,function(n,o){o.forEach(function(e){e.getSpriteFrames().forEach(function(e){console.log(e),t.set(e.name,e)})}),e.checkAssetState=!0}),this},t}();n.default=new o,cc._RF.pop()},{}],StationType:[function(t,e,n){"use strict";cc._RF.push(e,"97b17odubZLYqyO9ELSldfa","StationType"),Object.defineProperty(n,"__esModule",{value:!0}),n.StationType=void 0,function(t){t.Start="Start",t.WaitRad="WaitRad",t.Normal="Normal",t.QandA="QandA"}(n.StationType||(n.StationType={})),cc._RF.pop()},{}],TypeClass:[function(t,e,n){"use strict";cc._RF.push(e,"968d5lpwtBAz7MSyfkfu7Cm","TypeClass"),Object.defineProperty(n,"__esModule",{value:!0}),n.TypeClass=void 0,function(t){t.MAN="CMan",t.MapItem="CMapItem"}(n.TypeClass||(n.TypeClass={})),cc._RF.pop()},{}],onClick:[function(t,e,n){"use strict";cc._RF.push(e,"84a70jywTlAKod4k22HdC57","onClick"),Object.defineProperty(n,"__esModule",{value:!0}),n.onClick=void 0,(n.onClick||(n.onClick={})).TouchEnd="touchend",cc._RF.pop()},{}],test:[function(t,e,n){"use strict";cc._RF.push(e,"ce151gpQhhLPan/RdqQROvs","test");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return a(e,t),e.prototype.start=function(){cc.tween(this.node).bezierTo(1,cc.v2(0,0),cc.v2(50,20),cc.v2(100,0)).start()},i([c(cc.Label)],e.prototype,"label",void 0),i([c],e.prototype,"text",void 0),i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{}]},{},["AssetMng","MusicAsset","PrefabAsset","SpineAsset","SpriteAsset","SpriteAtlasAsset","CameraControll","ManAnimation","Panel_Man","Panel_AniPath","Panel_Door","Panel_Map","Panel_Message","DataMan","MyMath","ComponentBase","Easing","GameEvent","GameState","StationType","TypeClass","onClick","EventMng","GameControll","GameModel","IAsset","MapItem","test"]);